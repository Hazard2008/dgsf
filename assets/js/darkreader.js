!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).DarkReader={})}(this,function(n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
function f(n,t,i,r){return new(i||(i=Promise))(function(u,f){function o(n){try{e(r.next(n))}catch(n){f(n)}}function s(n){try{e(r.throw(n))}catch(n){f(n)}}function e(n){var t;n.done?u(n.value):(t=n.value,t instanceof i?t:new i(function(n){n(t)})).then(o,s)}e((r=r.apply(n,t||[])).next())})}function e(n,t){function o(e){return function(o){return function(e){if(f)throw new TypeError("Generator is already executing.");for(;r;)try{if(f=1,u&&(i=2&e[0]?u.return:e[0]?u.throw||((i=u.return)&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;switch(u=0,i&&(e=[2&e[0],i.value]),e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,(i=i.length>0&&i[i.length-1])||6!==e[0]&&2!==e[0])){r=0;continue}if(3===e[0]&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(6===e[0]&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(n){e=[6,n];u=0}finally{f=i=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,o])}}var f,u,i,e,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:o(0),"throw":o(1),"return":o(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e}function sr(n){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&n[t],r=0;if(i)return i.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.");}function r(n,t){var i="function"==typeof Symbol&&n[Symbol.iterator],r,f,u,e;if(!i)return n;u=i.call(n);e=[];try{for(;(void 0===t||t-->0)&&!(r=u.next()).done;)e.push(r.value)}catch(n){f={error:n}}finally{try{r&&!r.done&&(i=u.return)&&i.call(u)}finally{if(f)throw f.error;}}return e}function g(n,t,i){if(i||2===arguments.length)for(var u,r=0,f=t.length;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))}function oc(n,t,i){return f(this,void 0,void 0,function(){var r;return e(this,function(u){switch(u.label){case 0:return[4,fetch(n,{cache:"force-cache",credentials:"omit",referrer:i})];case 1:if(r=u.sent(),lu&&"text/css"===t&&n.startsWith("moz-extension://")&&n.endsWith(".css"))return[2,r];if(t&&!r.headers.get("Content-Type").startsWith(t))throw new Error("Mime type mismatch when loading "+n);if(!r.ok)throw new Error("Unable to load "+n+" "+r.status+" "+r.statusText);return[2,r]}})})}function be(n,t){return f(this,void 0,void 0,function(){return e(this,function(i){switch(i.label){case 0:return[4,oc(n,t)];case 1:return[4,ke(i.sent())];case 2:return[2,i.sent()]}})})}function ke(n){return f(this,void 0,void 0,function(){var t;return e(this,function(i){switch(i.label){case 0:return[4,n.blob()];case 1:return t=i.sent(),[4,new Promise(function(n){var i=new FileReader;i.onloadend=function(){return n(i.result)};i.readAsDataURL(t)})];case 2:return[2,i.sent()]}})})}function sc(n){return f(this,void 0,void 0,function(){return e(this,function(t){switch(t.label){case 0:return[4,wu(n)];case 1:return[2,t.sent()]}})})}function de(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return f(this,void 0,void 0,function(){var t,i,o,s,r,u,f;return e(this,function(e){switch(e.label){case 0:if(!n[0]||n[0].type!==le)return[3,8];t=n[0].id;e.label=1;case 1:return e.trys.push([1,7,,8]),i=n[0].data,o=i.url,s=i.responseType,[4,sc(o)];case 2:return r=e.sent(),"data-url"!==s?[3,4]:[4,ke(r)];case 3:return u=e.sent(),[3,6];case 4:return[4,r.text()];case 5:u=e.sent();e.label=6;case 6:return cr.forEach(function(n){return n({type:cu,data:u,error:null,id:t})}),[3,8];case 7:return f=e.sent(),console.error(f),cr.forEach(function(n){return n({type:cu,data:null,error:f,id:t})}),[3,8];case 8:return[2]}})})}function ge(n){cr.add(n)}function v(n,t){var f,e,u,o,r,i;if(function(n){return null!=n.length}(n))for(u=0,o=n.length;u<o;u++)t(n[u]);else try{for(r=sr(n),i=r.next();!i.done;i=r.next())t(i.value)}catch(n){f={error:n}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(f)throw f.error;}}}function bu(n,t){v(t,function(t){return n.push(t)})}function s(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]}function u(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]}function ku(n){var u,i=!1,t=null;return Object.assign(function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];u=e;t?i=!0:(n.apply(void 0,g([],r(u),!1)),t=requestAnimationFrame(function(){t=null;i&&(n.apply(void 0,g([],r(u),!1)),i=!1)}))},{cancel:function(){cancelAnimationFrame(t);i=!1;t=null}})}function lr(n){var t=0;return n.seconds&&(t+=1e3*n.seconds),n.minutes&&(t+=6e4*n.minutes),n.hours&&(t+=36e5*n.hours),n.days&&(t+=864e5*n.days),t}function c(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function du(n,t,i){void 0===i&&(i=Function.prototype);var v=lr({seconds:2}),y=lr({seconds:10}),r=n.previousSibling,f=n.parentNode;if(!f)throw new Error("Unable to watch for node position: parent element not found");if("prev-sibling"===t&&!r)throw new Error("Unable to watch for node position: there is no previous sibling");var o=0,e=null,s=null,l=ku(function(){if(!s){o++;var a=Date.now();if(null==e)e=a;else if(o>=10){if(a-e<y)return u("Node position watcher paused: retry in "+v+"ms",n,r),void(s=setTimeout(function(){e=null;o=0;s=null;l()},v));e=a;o=1}if("parent"===t&&r&&r.parentNode!==f)return u("Unable to restore node position: sibling parent changed",n,r,f),void c();if("prev-sibling"===t){if(null==r.parentNode)return u("Unable to restore node position: sibling was removed",n,r,f),void c();r.parentNode!==f&&(u("Style was moved to another parent",n,r,f),p(r.parentNode))}u("Restoring node position",n,r,f);f.insertBefore(n,r?r.nextSibling:f.firstChild);h.takeRecords();i&&i()}}),h=new MutationObserver(function(){("parent"===t&&n.parentNode!==f||"prev-sibling"===t&&n.previousSibling!==r)&&l()}),a=function(){h.observe(f,{childList:!0})},c=function(){clearTimeout(s);h.disconnect();l.cancel()},p=function(n){f=n;c();a()};return a(),{run:a,stop:c,skip:function(){h.takeRecords()}}}function tt(n,t){if(null!=n)for(var r=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:function(n){return null==n.shadowRoot?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}}),i=n.shadowRoot?r.currentNode:r.nextNode();null!=i;i=r.nextNode())t(i),tt(i.shadowRoot,t)}function ui(){return"complete"===document.readyState||"interactive"===document.readyState}function fo(n){fi.add(n)}function eo(n){fi.delete(n)}function oo(){return"complete"===document.readyState}function so(n){ei.add(n)}function ho(n,t){var r,i,u,f,e;return oi.has(n)?(r=oi.get(n),i=vr.get(r)):(f=!1,e=!1,r=new MutationObserver(function(t){if(function(n){if(n.length>1e3)return!0;for(var i=0,t=0;t<n.length;t++)if((i+=n[t].addedNodes.length)>1e3)return!0;return!1}(t))!f||ui()?i.forEach(function(t){return t.onHugeMutations(n)}):e||(fo(u=function(){return i.forEach(function(t){return t.onHugeMutations(n)})}),e=!0),f=!0;else{var r=function(n){var t=new Set,i=new Set,f=new Set,r,u;return n.forEach(function(n){v(n.addedNodes,function(n){n instanceof Element&&n.isConnected&&t.add(n)});v(n.removedNodes,function(n){n instanceof Element&&(n.isConnected?(f.add(n),t.delete(n)):i.add(n))})}),r=[],u=[],t.forEach(function(n){t.has(n.parentElement)&&r.push(n)}),i.forEach(function(n){i.has(n.parentElement)&&u.push(n)}),r.forEach(function(n){return t.delete(n)}),u.forEach(function(n){return i.delete(n)}),{additions:t,moves:f,deletions:i}}(t);i.forEach(function(n){return n.onMinorMutations(r)})}}),r.observe(n,{childList:!0,subtree:!0}),oi.set(n,r),i=new Set,vr.set(r,i)),i.add(t),{disconnect:function(){i.delete(t);u&&eo(u);0===i.size&&(r.disconnect(),vr.delete(r),oi.delete(n))}}}function co(n){return ar||(ar=document.createElement("a")),ar.href=n,ar.href}function si(n,t){var i,r,u;return(void 0===t&&(t=null),i=n+(t?";"+t:""),yt.has(i))?yt.get(i):t?(r=new URL(n,co(t)),yt.set(i,r),r):(u=new URL(co(n)),yt.set(n,u),u)}function nf(n,t){if(t.match(/^data\\?\:/))return t;if(/^\/\//.test(t))return""+location.protocol+t;var i=si(n);return si(t,i.href).href}function lo(n){if(n.startsWith("data:"))return!0;var t=si(n),i=si(location.href);return t.protocol===i.protocol&&t.hostname===i.hostname&&t.port===i.port&&/.*\//.exec(t.pathname)[0]===/.*\//.exec(i.pathname)[0]}function hi(n,t,i){v(n,function(n){if(n.selectorText)t(n);else if(n.href)try{hi(n.styleSheet.cssRules,t,i)}catch(n){s("Found a non-loaded link.");i&&i()}else if(n.media){var r=Array.from(n.media),f=r.some(function(n){return n.startsWith("screen")||n.startsWith("all")}),e=r.some(function(n){return n.startsWith("print")||n.startsWith("speech")});!f&&e||hi(n.cssRules,t,i)}else n.conditionText?CSS.supports(n.conditionText)&&hi(n.cssRules,t,i):u("CSSRule type not supported",n)})}function pt(n,t){v(n,function(i){var r=n.getPropertyValue(i).trim();r&&t(i,r)});var i=n.cssText;i.includes("var(")&&(hr?ao.forEach(function(n){var f=r(n,2),o=f[0],s=f[1],u=i.match(s),e;u&&u[1]&&(e=u[1].trim(),t(o,e))}):tf.forEach(function(i){var r=n.getPropertyValue(i);r&&r.includes("var(")&&t(i,r)}))}function ff(n){return n.replace(/^url\((.*)\)$/,"$1").trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}function yr(n){var t=si(n);return""+t.origin+t.pathname.replace(/\?.*$/,"").replace(/(\/)([^\/]+)$/i,"$1")}function po(n){var i=n.h,s=n.s,f=n.l,h=n.a,c=void 0===h?1:h;if(0===s){var e=r([f,f,f].map(function(n){return Math.round(255*n)}),3),l=e[0],a=e[1];return{r:l,g:e[2],b:a,a:c}}var t=(1-Math.abs(2*f-1))*s,u=t*(1-Math.abs(i/60%2-1)),v=f-t/2,o=r((i<60?[t,u,0]:i<120?[u,t,0]:i<180?[0,t,u]:i<240?[0,u,t]:i<300?[u,0,t]:[t,0,u]).map(function(n){return Math.round(255*(n+v))}),3);return{r:o[0],g:o[1],b:o[2],a:c}}function pr(n){var l=n.r,a=n.g,v=n.b,s=n.a,h=void 0===s?1:s,t=l/255,i=a/255,u=v/255,f=Math.max(t,i,u),c=Math.min(t,i,u),r=f-c,o=(f+c)/2,e;return 0===r?{h:0,s:0,l:o,a:h}:(e=60*(f===t?(i-u)/r%6:f===i?(u-t)/r+2:(t-i)/r+4),e<0&&(e+=360),{h:e,s:r/(1-Math.abs(2*o-1)),l:o,a:h})}function a(n,t){var i,r,u;return(void 0===t&&(t=0),i=n.toFixed(t),0===t)?i:(r=i.indexOf("."),r>=0&&(u=i.match(/0+$/),u))?u.index===r+1?i.substring(0,r):i.substring(0,u.index):i}function ci(n){var i=n.h,r=n.s,u=n.l,t=n.a;return null!=t&&t<1?"hsla("+a(i)+", "+a(100*r)+"%, "+a(100*u)+"%, "+a(t,2)+")":"hsl("+a(i)+", "+a(100*r)+"%, "+a(100*u)+"%)"}function ht(n){var i,f,e,o,u,t=n.trim().toLowerCase();if(t.match(cc))return i=r(wo(t,vc,yc),4),f=i[0],e=i[1],o=i[2],u=i[3],{r:f,g:e,b:o,a:void 0===u?1:u};if(t.match(lc))return function(n){var t=r(wo(n,pc,wc),4),u=t[0],f=t[1],e=t[2],i=t[3];return po({h:u,s:f,l:e,a:void 0===i?1:i})}(t);if(t.match(ac))return function(n){var t=n.substring(1),i,u;switch(t.length){case 3:case 4:return i=r([0,1,2].map(function(n){return parseInt(""+t[n]+t[n],16)}),3),{r:i[0],g:i[1],b:i[2],a:3===t.length?1:parseInt(""+t[3]+t[3],16)/255};case 6:case 8:return u=r([0,2,4].map(function(n){return parseInt(t.substring(n,n+2),16)}),3),{r:u[0],g:u[1],b:u[2],a:6===t.length?1:parseInt(t.substring(6,8),16)/255}}throw new Error("Unable to parse "+n);}(t);if(ef.has(t))return function(n){var t=ef.get(n);return{r:t>>16&255,g:t>>8&255,b:t>>0&255,a:1}}(t);if(sf.has(t))return function(n){var t=sf.get(n);return{r:t>>16&255,g:t>>8&255,b:t>>0&255,a:1}}(t);if("transparent"===n)return{r:0,g:0,b:0,a:0};throw new Error("Unable to parse "+n);}function wo(n,t,i){var u=function(n){var f=[],u=0,r=!1,e=n.indexOf("("),i,t;for(n=n.substring(e+1,n.length-1),i=0;i<n.length;i++)t=n[i],t>="0"&&t<="9"||"."===t||"+"===t||"-"===t?r=!0:!r||" "!==t&&","!==t?r||(u=i+1):(f.push(n.substring(u,i)),r=!1,u=i+1);return r&&f.push(n.substring(u,n.length)),f}(n),f=Object.entries(i);return u.map(function(n){return n.trim()}).map(function(n,i){var u,e=f.find(function(t){var i=r(t,1)[0];return n.endsWith(i)});return u=e?parseFloat(n.substring(0,n.length-e[0].length))/e[1]*t[i]:parseFloat(n),t[i]>1?Math.round(u):u})}function kc(n){for(var e,i,r,u,t=0,o=function(t,i,r){n=n.substring(0,t)+r+n.substring(i)},f=function(){for(var u,f,e,i=0,r=1;r<4;r++){if(u=n[t+r]," "===u)break;if(!bc(u))break;i*=10;i+=Number(u)}return e=(f=i,Math.floor(Math.log10(f))+1),"%"===n[(t+=e)+1]?(t++,i):void 0};0!==(t=n.indexOf("calc("));){if(e=t,t+=4,i=f(),!i)break;if(" "!==n[t+1])break;if(t++,r=n[t+1],"+"!==r&&"-"!==r)break;if(t++," "!==n[t+1])break;if(t++,u=f(),!u)break;o(e,t+2,"+"===r?i+u+"%":i-u+"%")}return n}function b(n,t,i,r,u){return(n-t)*(u-r)/(i-t)+r}function ut(n,t,i){return Math.min(i,Math.max(t,n))}function wt(n,t){for(var r,e,f=[],i=0,s=n.length;i<s;i++)for(f[i]=[],r=0,e=t[0].length;r<e;r++){for(var o=0,u=0,h=n[0].length;u<h;u++)o+=n[i][u]*t[u][r];f[i][r]=o}return f}function bt(n,t,i){void 0===i&&(i=0);for(var r,u=[];r=n.exec(t);)u.push(r[i]);return u}function bo(n){var t=ct.identity();return 0!==n.sepia&&(t=wt(t,ct.sepia(n.sepia/100))),0!==n.grayscale&&(t=wt(t,ct.grayscale(n.grayscale/100))),100!==n.contrast&&(t=wt(t,ct.contrast(n.contrast/100))),100!==n.brightness&&(t=wt(t,ct.brightness(n.brightness/100))),1===n.mode&&(t=wt(t,ct.invertNHue())),t}function hf(n){return n[1===n.mode?"darkSchemeBackgroundColor":"lightSchemeBackgroundColor"]}function cf(n){return n[1===n.mode?"darkSchemeTextColor":"lightSchemeTextColor"]}function ko(n){if(ai.has(n))return ai.get(n);var t=pr(ht(n));return ai.set(n,t),t}function vi(n,t,i,u,f){var e,o;if(li.has(i)?e=li.get(i):(e=new Map,li.set(i,e)),o=function(n,t){var i="";return go.forEach(function(t){i+=n[t]+";"}),ns.forEach(function(n){i+=t[n]+";"}),i}(n,t),e.has(o))return e.get(o);var s=po(i(pr(n),null==u?null:ko(u),null==f?null:ko(f))),w=s.r,b=s.g,k=s.b,c=s.a,h=r(function(n,t){var i=r(n,3),u=wt(t,[[i[0]/255],[i[1]/255],[i[2]/255],[1],[1]]);return[0,1,2].map(function(n){return ut(Math.round(255*u[n][0]),0,255)})}([w,b,k],bo(t)),3),l=h[0],v=h[1],y=h[2],p=1===c?function(n){var i=n.r,r=n.g,u=n.b,t=n.a;return"#"+(null!=t&&t<1?[i,r,u,Math.round(255*t)]:[i,r,u]).map(function(n){return(n<16?"0":"")+n.toString(16)}).join("")}({r:l,g:v,b:y}):function(n){var i=n.r,r=n.g,u=n.b,t=n.a;return null!=t&&t<1?"rgba("+a(i)+", "+a(r)+", "+a(u)+", "+a(t,2)+")":"rgb("+a(i)+", "+a(r)+", "+a(u)+")"}({r:l,g:v,b:y,a:c});return e.set(o,p),p}function dc(n){return n}function lf(n,t){var i=hf(t);return vi(n,t,gc,cf(t),i)}function gc(n,t,i){var o,e=n.h,s=n.s,r=n.l,c=n.a,h=r<.5,u,f;return o=h?r<.2||s<.12:s<.24||r>.8&&e>200&&e<280,u=e,f=r,o&&(h?(u=t.h,f=t.s):(u=i.h,f=i.s)),{h:u,s:f,l:b(r,0,1,t.l,i.l),a:c}}function nl(n,t){var i=n.h,f=n.s,r=n.l,u=n.a,h=f<.12||r>.8&&i>200&&i<280,e,o,s;return r<.5?(e=b(r,0,.5,0,.4),h?{h:t.h,s:t.s,l:e,a:u}:{h:i,s:f,l:e,a:u}):(o=b(r,.5,1,.4,t.l),h)?{h:t.h,s:t.s,l:o,a:u}:(s=i,i>60&&i<180&&(s=i>120?b(i,120,180,135,180):b(i,60,120,60,105)),{h:s,s:f,l:o,a:u})}function h(n,t){if(0===t.mode)return lf(n,t);var r=hf(t);return vi(n,i(i({},t),{mode:0}),nl,r)}function ts(n){return b(n,205,245,205,220)}function tl(n,t){var i=n.h,f=n.s,r=n.l,u=n.a,e=r<.2||f<.24,l=!e&&i>205&&i<245,o,s,h,c;return r>.5?(o=b(r,.5,1,wr,t.l),e)?{h:t.h,s:t.s,l:o,a:u}:(s=i,l&&(s=ts(i)),{h:s,s:f,l:o,a:u}):e?{h:t.h,s:t.s,l:b(r,0,.5,t.l,wr),a:u}:(c=i,l?(c=ts(i),h=b(r,0,.5,t.l,Math.min(1,.60000000000000009))):h=b(r,0,.5,t.l,wr),{h:c,s:f,l:h,a:u})}function nt(n,t){if(0===t.mode)return lf(n,t);var r=cf(t);return vi(n,i(i({},t),{mode:0}),tl,r)}function il(n,t,i){var o=n.h,e=n.s,r=n.l,s=n.a,u=o,f=e;return(r<.2||e<.24)&&(r<.5?(u=t.h,f=t.s):(u=i.h,f=i.s)),{h:u,s:f,l:b(r,0,1,.5,.2),a:s}}function yi(n,t){if(0===t.mode)return lf(n,t);var r=cf(t),u=hf(t);return vi(n,i(i({},t),{mode:0}),il,r,u)}function vf(n,t){return h(n,t)}function is(n){var t=[];return n.mode===af.dark&&t.push("invert(100%) hue-rotate(180deg)"),100!==n.brightness&&t.push("brightness("+n.brightness+"%)"),100!==n.contrast&&t.push("contrast("+n.contrast+"%)"),0!==n.grayscale&&t.push("grayscale("+n.grayscale+"%)"),0!==n.sepia&&t.push("sepia("+n.sepia+"%)"),0===t.length?null:t.join(" ")}function rs(n){return f(this,void 0,void 0,function(){return e(this,function(){return[2,new Promise(function(t,i){var r=++rl;yf.set(r,t);pf.set(r,i);chrome.runtime.sendMessage({type:le,data:n,id:r})})]})})}function ul(n){return f(this,void 0,void 0,function(){var t=this;return e(this,function(){return[2,new Promise(function(r,o){return f(t,void 0,void 0,function(){var t,h,f,c;return e(this,function(e){switch(e.label){case 0:return n.startsWith("data:")?(t=n,[3,4]):[3,1];case 1:return e.trys.push([1,3,,4]),[4,fl(n)];case 2:return t=e.sent(),[3,4];case 3:return h=e.sent(),o(h),[2];case 4:return e.trys.push([4,6,,7]),[4,el(t)];case 5:return f=e.sent(),br.addToQueue(function(){r(i({src:n,dataURL:t,width:f.naturalWidth,height:f.naturalHeight},function(n){var y,p,t,i,a,v;if(pi||(y=kr,p=kr,(pi=document.createElement("canvas")).width=y,pi.height=p,(wi=pi.getContext("2d")).imageSmoothingEnabled=!1),t=n.naturalWidth,i=n.naturalHeight,0===i||0===t)return u("logWarn(Image is empty "+n.currentSrc+")"),null;if(t*i*4>us)return s("Skipped large image analyzing(Larger than 5mb in memory)"),{isDark:!1,isLight:!1,isTransparent:!1,isLarge:!1,isTooLarge:!0};var w=t*i,b=Math.min(1,Math.sqrt(kr/w)),r=Math.ceil(t*b),f=Math.ceil(i*b);wi.clearRect(0,0,r,f);wi.drawImage(n,0,0,t,i,0,0,r,f);for(var e,o,k,d,g,nt,c=wi.getImageData(0,0,r,f).data,l=0,tt=0,it=0,h=0;h<f;h++)for(o=0;o<r;o++)k=c[(e=4*(h*r+o))+0]/255,d=c[e+1]/255,g=c[e+2]/255,c[e+3]/255<.05?l++:((nt=.2126*k+.7152*d+.0722*g)<.4&&tt++,nt>.7&&it++);return a=r*f,v=a-l,{isDark:tt/v>=.7,isLight:it/v>=.7,isTransparent:l/a>=.1,isLarge:w>=48e4,isTooLarge:!1}}(f)))}),[3,7];case 6:return c=e.sent(),o(c),[3,7];case 7:return[2]}})})})]})})}function fl(n){return f(this,void 0,void 0,function(){return e(this,function(t){switch(t.label){case 0:return new URL(n).origin!==location.origin?[3,2]:[4,be(n)];case 1:case 3:return[2,t.sent()];case 2:return[4,rs({url:n,responseType:"data-url"})]}})})}function el(n){return f(this,void 0,void 0,function(){return e(this,function(){return[2,new Promise(function(t,i){var r=new Image;r.onload=function(){return t(r)};r.onerror=function(){return i("Unable to load image "+n)};r.src=n})]})})}function wf(n,t){var u=n.dataURL,i=n.width,r=n.height,f=bo(t).slice(0,4).map(function(n){return n.map(function(n){return n.toFixed(3)}).join(" ")}).join(" "),e=['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+i+'" height="'+r+'">',"<defs>",'<filter id="darkreader-image-filter">','<feColorMatrix type="matrix" values="'+f+'" />',"<\/filter>","<\/defs>",'<image width="'+i+'" height="'+r+'" filter="url(#darkreader-image-filter)" xlink:href="'+u+'" />',"<\/svg>"].join("");return"data:image/svg+xml;base64,"+btoa(e)}function ol(){br&&br.stopQueue();pi=null;wi=null}function bi(n,t){return Boolean(n&&n.getPropertyPriority(t))}function fs(n,t,i,r,f,e){if(n.startsWith("--")){var o=function(n,t,i,r,u,f){return n.getModifierForVariable({varName:t,sourceValue:i,rule:r,ignoredImgSelectors:u,isCancelled:f})}(r,n,t,i,f,e);if(o)return{property:n,value:o,important:bi(i.style,n),sourceValue:t}}else if(t.includes("var(")){if(o=function(n,t,i){return n.getModifierForVarDependant(t,i)}(r,n,t),o)return{property:n,value:o,important:bi(i.style,n),sourceValue:t}}else if(n.includes("color")&&"-webkit-print-color-adjust"!==n||"fill"===n||"stroke"===n||"stop-color"===n){if(o=function(n,t){if(os.has(t.toLowerCase()))return t;try{var i=ss(t);return n.includes("background")?function(n){return h(i,n)}:n.includes("border")||n.includes("outline")?function(n){return yi(i,n)}:function(n){return nt(i,n)}}catch(n){return u("Color parse error",n),null}}(n,t),o)return{property:n,value:o,important:bi(i.style,n),sourceValue:t}}else if("background-image"===n||"list-style-image"===n){if(o=hs(t,i,f,e))return{property:n,value:o,important:bi(i.style,n),sourceValue:t}}else if(n.includes("shadow")&&(o=function(n){var t=cs(n);return t?function(n){return t(n).result}:null}(t),o))return{property:n,value:o,important:bi(i.style,n),sourceValue:t};return null}function sl(n,t,r){var u=[];return t||(u.push("html {"),u.push("    background-color: "+h({r:255,g:255,b:255},n)+" !important;"),u.push("}")),u.push((t?"":"html, body, ")+(r?"input, textarea, select, button":"")+" {"),u.push("    background-color: "+h({r:255,g:255,b:255},n)+";"),u.push("}"),u.push("html, body, "+(r?"input, textarea, select, button":"")+" {"),u.push("    border-color: "+yi({r:76,g:76,b:76},n)+";"),u.push("    color: "+nt({r:0,g:0,b:0},n)+";"),u.push("}"),u.push("a {"),u.push("    color: "+nt({r:0,g:64,b:255},n)+";"),u.push("}"),u.push("table {"),u.push("    border-color: "+yi({r:128,g:128,b:128},n)+";"),u.push("}"),u.push("::placeholder {"),u.push("    color: "+nt({r:169,g:169,b:169},n)+";"),u.push("}"),u.push("input:-webkit-autofill,"),u.push("textarea:-webkit-autofill,"),u.push("select:-webkit-autofill {"),u.push("    background-color: "+h({r:250,g:255,b:189},n)+" !important;"),u.push("    color: "+nt({r:0,g:0,b:0},n)+" !important;"),u.push("}"),n.scrollbarColor&&u.push(function(n){var u,e,f,o,s,l,t=[];if("auto"===n.scrollbarColor)u=h({r:241,g:241,b:241},n),e=nt({r:96,g:96,b:96},n),f=h({r:176,g:176,b:176},n),o=h({r:144,g:144,b:144},n),s=h({r:96,g:96,b:96},n),l=h({r:255,g:255,b:255},n);else{var r=pr(ht(n.scrollbarColor)),v=r.l>.5,c=function(n){return i(i({},r),{l:ut(r.l+n,0,1)})},a=function(n){return i(i({},r),{l:ut(r.l-n,0,1)})};u=ci(a(.4));e=ci(v?a(.4):c(.4));f=ci(r);o=ci(c(.1));s=ci(c(.2))}return t.push("::-webkit-scrollbar {"),t.push("    background-color: "+u+";"),t.push("    color: "+e+";"),t.push("}"),t.push("::-webkit-scrollbar-thumb {"),t.push("    background-color: "+f+";"),t.push("}"),t.push("::-webkit-scrollbar-thumb:hover {"),t.push("    background-color: "+o+";"),t.push("}"),t.push("::-webkit-scrollbar-thumb:active {"),t.push("    background-color: "+s+";"),t.push("}"),t.push("::-webkit-scrollbar-corner {"),t.push("    background-color: "+l+";"),t.push("}"),lu&&(t.push("* {"),t.push("    scrollbar-color: "+f+" "+u+";"),t.push("}")),t.join("\n")}(n)),n.selectionColor&&u.push(function(n){var t=[],i=es(n),r=i.backgroundColorSelection,u=i.foregroundColorSelection;return["::selection","::-moz-selection"].forEach(function(n){t.push(n+" {");t.push("    background-color: "+r+" !important;");t.push("    color: "+u+" !important;");t.push("}")}),t.join("\n")}(n)),u.join("\n")}function es(n){var t,r,u;return"auto"===n.selectionColor?(t=h({r:0,g:96,b:212},i(i({},n),{grayscale:0})),r=nt({r:255,g:255,b:255},i(i({},n),{grayscale:0}))):(u=pr(ht(n.selectionColor)),t=n.selectionColor,r=u.l<.5?"#FFF":"#000"),{backgroundColorSelection:t,foregroundColorSelection:r}}function bf(n,t){var r=t.strict,i=[];return i.push("html, body, "+(r?'body :not(iframe):not(div[style^="position:absolute;top:0;left:-"]':"body > :not(iframe)")+" {"),i.push("    background-color: "+h({r:255,g:255,b:255},n)+" !important;"),i.push("    border-color: "+yi({r:64,g:64,b:64},n)+" !important;"),i.push("    color: "+nt({r:0,g:0,b:0},n)+" !important;"),i.push("}"),i.join("\n")}function ss(n){if(n=n.trim(),ki.has(n))return ki.get(n);n.includes("calc(")&&(n=kc(n));var t=ht(n);return ki.set(n,t),t}function it(n){try{return ss(n)}catch(n){return null}}function hs(n,t,r,o){var p=this,c,l;try{if(c=bt(hl,n),l=bt(rf,n),0===l.length&&0===c.length)return n;var a=function(t){var i=0;return t.map(function(t){var r=n.indexOf(t,i);return i=r+t.length,{match:t,index:r}})},v=a(l).map(function(n){return i({type:"url"},n)}).concat(a(c).map(function(n){return i({type:"gradient"},n)})).sort(function(n,t){return n.index-t.index}),w=function(n,t){var r,o=n.isDark,f=n.isLight,e=n.isTransparent,u=n.isLarge,h=n.isTooLarge,c=n.width;return h?r='url("'+n.src+'")':o&&e&&1===t.mode&&!u&&c>2?(s("Inverting dark image "+n.src),r='url("'+wf(n,i(i({},t),{sepia:ut(t.sepia+10,0,100)}))+'")'):f&&!e&&1===t.mode?u?r="none":(s("Dimming light image "+n.src),r='url("'+wf(n,t)+'")'):0===t.mode&&f&&!u?(s("Applying filter to image "+n.src),r='url("'+wf(n,i(i({},t),{brightness:ut(t.brightness-10,5,200),sepia:ut(t.sepia+10,0,100)}))+'")'):r=null,r},h=[],y=0;return v.forEach(function(i,s){var c=i.match,b=i.type,l=i.index,k=y,a=l+c.length;y=a;h.push(function(){return n.substring(k,l)});h.push("url"===b?function(n){var h;if(function(n,t){var r;if(!n||0===t.length)return!1;if(t.some(function(n){return"*"===n}))return!0;for(var u=n.split(/,\s*/g),f=function(n){var i=t[n];if(u.some(function(n){return n===i}))return{value:!0}},i=0;i<t.length;i++)if(r=f(i),"object"==typeof r)return r.value;return!1}(t.selectorText,r))return null;var i=ff(n),s=t.parentStyleSheet,l=s&&s.href?yr(s.href):(null===(h=s.ownerNode)||void 0===h?void 0:h.baseURI)||location.origin,c='url("'+(i=nf(l,i))+'")';return function(n){return f(p,void 0,void 0,function(){var t,r;return e(this,function(f){switch(f.label){case 0:return dr.has(i)?(t=dr.get(i),[3,7]):[3,1];case 1:return f.trys.push([1,6,,7]),rt.has(i)?(r=rt.get(i),[4,new Promise(function(n){return r.push(n)})]):[3,3];case 2:return(t=f.sent())?[3,5]:[2,null];case 3:return rt.set(i,[]),[4,ul(i)];case 4:t=f.sent();dr.set(i,t);rt.get(i).forEach(function(n){return n(t)});rt.delete(i);f.label=5;case 5:return o()?[2,null]:[3,7];case 6:return u(f.sent()),rt.has(i)&&(rt.get(i).forEach(function(n){return n(null)}),rt.delete(i)),[2,c];case 7:return[2,w(t,n)||c]}})})}}(c):function(n){var t=n.match(/^(.*-gradient)\((.*)\)$/),i=t[1],r=t[2],u=/^(from|color-stop|to)\(([^\(\)]*?,\s*)?(.*?)\)$/,f=bt(/([^\(\),]+(\([^\(\)]*(\([^\(\)]*\)*[^\(\)]*)?\))?[^\(\),]*),?/g,r,1).map(function(n){var t=it(n=n.trim()),r,i;return t?function(n){return vf(t,n)}:(r=n.lastIndexOf(" "),t=it(n.substring(0,r)))?function(i){return vf(t,i)+" "+n.substring(r+1)}:(i=n.match(u),i&&(t=it(i[3]))?function(n){return i[1]+"("+(i[2]?i[2]+", ":"")+vf(t,n)+")"}:function(){return n})});return function(n){return i+"("+f.map(function(t){return t(n)}).join(", ")+")"}}(c));s===v.length-1&&h.push(function(){return n.substring(a)})}),function(n){var t=h.filter(Boolean).map(function(t){return t(n)});return t.some(function(n){return n instanceof Promise})?Promise.all(t).then(function(n){return n.join("")}):t.join("")}}catch(i){return u("Unable to parse gradient "+n,i),null}}function cs(n){try{var t=0,i=bt(/(^|\s)(?!calc)([a-z]+\(.+?\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/gi,n,2),r=0,f=i.map(function(u,f){var s=t,c=n.indexOf(u,t),e=c+u.length,o;return t=e,o=it(u),o?function(t){return""+n.substring(s,c)+function(n,t){return h(n,t)}(o,t)+(f===i.length-1?n.substring(e):"")}:(r++,function(){return n.substring(s,e)})});return function(n){var t=f.map(function(t){return t(n)}).join("");return{matchesLength:i.length,unparseableMatchesLength:r,result:t}}}catch(t){return u("Unable to parse shadow "+n,t),null}}function cl(){ki.clear();li.clear();ai.clear();dr.clear();ol();rt.clear()}function ll(n,t){var i,r;return void 0===t&&(t=0),i=n.indexOf("var(",t),i>=0?(r=function(n,t){var r,u;void 0===t&&(t=0);for(var o=n.length,f=0,e=-1,i=t;i<o;i++)if(0===f){if((r=n.indexOf("(",i))<0)break;e=r;f++;i=r}else{if(u=n.indexOf(")",i),u<0)break;if((r=n.indexOf("(",i))<0||u<r){if(0==--f)return{start:e,end:u+1};i=u}else f++,i=r}return null}(n,i+3),r?{start:i,end:r.end}:null):void 0}function ls(n,t){var r=function(n){for(var t,u,f,i=[],r=0;t=ll(n,r);)u=t.start,f=t.end,i.push({start:u,end:f,value:n.substring(u,f)}),r=t.end+1;return i}(n),f=r.length,i,e,o;if(0===f)return n;var s=n.length,h=r.map(function(n){return t(n.value)}),u=[];for(u.push(n.substring(0,r[0].start)),i=0;i<f;i++)u.push(h[i]),e=r[i].end,o=i<f-1?r[i+1].start:s,u.push(n.substring(e,o));return u.join("")}function as(n){var t,i,r=n.indexOf(",");return r>=0?(t=n.substring(4,r).trim(),i=n.substring(r+1,n.length-1).trim()):(t=n.substring(4,n.length-1).trim(),i=""),{name:t,fallback:i}}function ft(n,t,i){return ls(n,function(n){var u=as(n),e=u.name,r=u.fallback,f=t(e);return r?"var("+f+", "+(lt(r)?ft(r,t,i):i?i(r):r)+")":"var("+f+")"})}function di(n){return"--darkreader-bg"+n}function kf(n){return"--darkreader-text"+n}function df(n){return"--darkreader-border"+n}function vs(n){return"--darkreader-bgimg"+n}function gr(n){return n.startsWith("--")}function lt(n){return n.includes("var(")}function ys(n){return n.match(/^\s*(rgb|hsl)a?\(/)}function kt(n,t){var i=it(n);return i?h(i,t):n}function gi(n,t){var i=it(n);return i?nt(i,t):n}function nu(n,t){var i=it(n);return i?yi(i,t):n}function nr(n,t,i){void 0===i&&(i=new Set);var r=!1,u=ls(n,function(n){var o=as(n),f=o.name,s=o.fallback,u,e;return i.has(f)?(r=!0,null):(i.add(f),u=t.get(f)||s,e=null,u&&(e=lt(u)?nr(u,t,i):u),e||(r=!0,null))});return r?null:u}function ws(){return gf.map(function(n){var t=n.dataAttr,i=n.customProp;return["["+t+"] {","  "+n.cssProp+": var("+i+") !important;","}"].join("\n")}).join("\n")}function ne(n,t,i){function h(n){(function(n){var t=[];return n instanceof Element&&n.matches(gt)&&t.push(n),(n instanceof Element||vu&&n instanceof ShadowRoot||n instanceof Document)&&bu(t,n.querySelectorAll(gt)),t})(n).forEach(function(n){f.has(n)||(f.add(n),t(n))});tt(n,function(r){f.has(n)||(f.add(n),i(r.shadowRoot),ne(r.shadowRoot,t,i))})}var f,c;ni.has(n)&&(ni.get(n).disconnect(),ir.get(n).disconnect());f=new WeakSet;c=ho(n,{onMinorMutations:function(n){n.additions.forEach(function(n){return h(n)})},onHugeMutations:function(){h(n)}});ni.set(n,c);var o=0,e=null,v=lr({seconds:10}),y=lr({seconds:2}),u=[],s=null,l=ku(function(n){n.forEach(function(n){tr.includes(n.attributeName)&&t(n.target)})}),a=new MutationObserver(function(n){if(s)u.push.apply(u,g([],r(n),!1));else{o++;var t=Date.now();if(null==e)e=t;else if(o>=50){if(t-e<v)return s=setTimeout(function(){e=null;o=0;s=null;var n=u;u=[];l(n)},y),void u.push.apply(u,g([],r(n),!1));e=t;o=1}l(n)}});a.observe(n,{attributes:!0,attributeFilter:tr.concat(gf.map(function(n){return n.dataAttr})),subtree:!0});ir.set(n,a)}function ks(n,t){return tr.map(function(t){return t+'="'+n.getAttribute(t)+'"'}).concat(bs.map(function(n){return n+'="'+t[n]+'"'})).join(" ")}function ie(n,t,i,r){function f(i,u,f){var s=dt[i],a=s.customProp,h=s.dataAttr,c=fs(u,f,{},l,r,null),o;c&&(o=c.value,"function"==typeof o&&(o=o(t)),n.style.setProperty(a,o),n.hasAttribute(h)||n.setAttribute(h,""),e.delete(i))}var e,o,s,u;ks(n,t)!==te.get(n)&&(e=new Set(Object.keys(dt)),i.length>0&&function(n,t){for(var u,i=0,r=t.length;i<r;i++)if(u=t[i],n.matches(u))return!0;return!1}(n,i)?e.forEach(function(t){n.removeAttribute(dt[t].dataAttr)}):(n.hasAttribute("bgcolor")&&(((u=n.getAttribute("bgcolor")).match(/^[0-9a-f]{3}$/i)||u.match(/^[0-9a-f]{6}$/i))&&(u="#"+u),f("background-color","background-color",u)),n.hasAttribute("color")&&"mask-icon"!==n.rel&&(((u=n.getAttribute("color")).match(/^[0-9a-f]{3}$/i)||u.match(/^[0-9a-f]{6}$/i))&&(u="#"+u),f("color","color",u)),n instanceof SVGElement&&(n.hasAttribute("fill")&&(o=n.getAttribute("fill"),"none"!==o&&(n instanceof SVGTextElement?f("fill","color",o):(s=function(){var t=n.getBoundingClientRect(),i=t.width,r=t.height;f("fill",i>32||r>32?"background-color":"color",o)},oo()?s():so(s)))),n.hasAttribute("stop-color")&&f("stop-color","background-color",n.getAttribute("stop-color"))),n.hasAttribute("stroke")&&(u=n.getAttribute("stroke"),f("stroke",n instanceof SVGLineElement||n instanceof SVGTextElement?"border-color":"color",u)),n.style&&pt(n.style,function(t,i){if("background-image"!==t||!i.includes("url"))if(dt.hasOwnProperty(t))f(t,t,i);else{var r=ps[t];if(r&&!n.style.getPropertyValue(r)&&!n.hasAttribute(r)){if("background-color"===r&&n.hasAttribute("bgcolor"))return;n.style.setProperty(t,"")}}}),n.style&&n instanceof SVGTextElement&&n.style.fill&&f("fill","color",n.style.getPropertyValue("fill")),v(e,function(t){n.removeAttribute(dt[t].dataAttr)}),te.set(n,ks(n,t))))}function gs(n,t){rr=rr||n.content;try{var i=ht(rr);n.content=h(i,t)}catch(n){u(n)}}function ih(){var n=0,i=new Set,t=new Map,u=new Set,e=null,f=!1,o=!1;return{modifySheet:function(s){function y(n,t,i){var r=i.selector+" { "+i.declarations.map(function(n){var i=n.property,t=n.value,r=n.important,u=n.sourceValue;return i+": "+(null==t?u:t)+(r?" !important":"")+";"}).join(" ")+" }";n.insertRule(r,t)}function it(n){if(null==n)return nt;if(v.has(n))return v.get(n);var t={rule:n,rules:[],isGroup:!0};return v.set(n,t),it(n.parentRule).rules.push(t),t}var rt=s.sourceCSSRules,p=s.theme,ut=s.ignoreImageAnalysis,ft=s.force,et=s.prepareSheet,h=s.isAsyncCancelled,w=0===t.size,b=new Set(t.keys()),k=function(n){return nh.map(function(t){return t+":"+n[t]}).join(";")}(p),ot=k!==e,c,tt;if(f&&(o=!0),c=[],hi(rt,function(n){var r=n.cssText,e=!1,u,f,o;(b.delete(r),n.parentRule instanceof CSSMediaRule&&(r+=";"+n.parentRule.media.mediaText),i.has(r)||(i.add(r),e=!0),e)?(w=!0,u=[],n.style&&pt(n.style,function(t,i){var r=fs(t,i,n,l,ut,h);r&&u.push(r)}),f=null,u.length>0&&(o=n.parentRule,f={selector:n.selectorText,declarations:u,parentRule:o},c.push(f)),t.set(r,f)):c.push(t.get(r))},function(){f=!0}),b.forEach(function(n){i.delete(n);t.delete(n)}),e=k,ft||w||ot){n++;var a=new Map,d=new Map,st=0,ht=0,nt={rule:null,rules:[],isGroup:!0},v=new WeakMap;u.forEach(function(n){return n()});u.clear();c.filter(function(n){return n}).forEach(function(t){function e(t,r,u,f){var o=++st,s={property:t,value:null,important:u,asyncKey:o,sourceValue:f},e;i.push(s);e=n;r.then(function(t){t&&!h()&&e===n&&(s.value=t,th.add(function(){h()||e!==n||function(n){var t=a.get(n),u=t.rule,i=t.target,r=t.index;i.deleteRule(r);y(i,r,u);a.delete(n)}(o)}))})}function l(t,f,o,s){var v=f,p=v.declarations,w=v.onTypeChange,l=++ht,b=n,k=i.length,c=[],a;0===p.length&&(a={property:t,value:s,important:o,sourceValue:s,varKey:l},i.push(a),c=[a]);p.forEach(function(n){if(n.value instanceof Promise)e(n.property,n.value,o,s);else{var t={property:n.property,value:n.value,important:o,sourceValue:s,varKey:l};i.push(t);c.push(t)}});w.addListener(function(t){if(!h()&&b===n){var u=t.map(function(n){return{property:n.property,value:n.value,important:o,sourceValue:s,varKey:l}}),f=i.indexOf(c[0],k);i.splice.apply(i,g([f,c.length],r(u),!1));c=u,function(n){var t=d.get(n),u=t.rule,i=t.target,r=t.index;i.deleteRule(r);y(i,r,u)}(l)}});u.add(function(){return w.removeListeners()})}var o=t.selector,s=t.declarations,c=it(t.parentRule),f={selector:o,declarations:[],isGroup:!1},i=f.declarations;c.rules.push(f);s.forEach(function(n){var t=n.property,o=n.value,u=n.important,f=n.sourceValue,r;"function"==typeof o?(r=o(p),r instanceof Promise?e(t,r,u,f):t.startsWith("--")?l(t,r,u,f):i.push({property:t,value:r,important:u,sourceValue:f})):i.push({property:t,value:o,important:u,sourceValue:f})})});tt=et();!function n(t,i,r){t.rules.forEach(function(t){if(t.isGroup){var u=function(n,t){var r=n.rule,u,i;return r instanceof CSSMediaRule?(u=r.media,i=t.cssRules.length,t.insertRule("@media "+u.mediaText+" {}",i),t.cssRules[i]):t}(t,i);n(t,u,r)}else r(t,i)})}(nt,tt,function(n,t){var i=t.cssRules.length;n.declarations.forEach(function(r){var u=r.asyncKey,f=r.varKey;null!=u&&a.set(u,{rule:n,target:t,index:i});null!=f&&d.set(f,{rule:n,target:t,index:i})});y(t,i,n)})}},shouldRebuildStyle:function(){return f&&!o}}}function rh(n){return(n instanceof HTMLStyleElement||n instanceof SVGStyleElement||n instanceof HTMLLinkElement&&n.rel&&n.rel.toLowerCase().includes("stylesheet")&&!n.disabled)&&!n.classList.contains("darkreader")&&"print"!==n.media.toLowerCase()&&!n.classList.contains("stylus")}function ot(n,t,i){return void 0===t&&(t=[]),void 0===i&&(i=!0),rh(n)?t.push(n):(n instanceof Element||vu&&n instanceof ShadowRoot||n===document)&&(v(n.querySelectorAll('style, link[rel*="stylesheet" i]:not([disabled])'),function(n){return ot(n,t,!1)}),i&&tt(n,function(n){return ot(n.shadowRoot,t,!1)})),t}function vl(n,t){function ht(){return n instanceof HTMLStyleElement&&n.textContent.trim().match(uf)}function it(n,t){var u=!1,i,r,f;if(n){i=void 0;n:for(r=0,f=n.length;r<f;r++)if((i=n[r]).href){if(!t){u=!0;break n}if(i.href.startsWith("http")&&!i.href.startsWith(location.origin)){u=!0;break n}}}return u}function ct(){if(o)return s("[getRulesSync] Using cors-copy."),o.sheet.cssRules;if(ht())return s("[getRulesSync] CSSImport detected."),null;var t=yt();return n instanceof HTMLLinkElement&&!lo(n.href)&&it(t,!1)?(s("[getRulesSync] CSSImportRule detected on non-local href."),null):it(t,!0)?(s("[getRulesSync] Cross-Origin CSSImportRule detected."),null):(s("[getRulesSync] Using cssRules."),!t&&u("[getRulesSync] cssRules is null, trying again."),t)}function lt(){o?(n.nextSibling!==o&&n.parentNode.insertBefore(o,n.nextSibling),o.nextSibling!==i&&n.parentNode.insertBefore(i,o.nextSibling)):n.nextSibling!==i&&n.parentNode.insertBefore(i,n.nextSibling)}function gt(){return f(this,void 0,void 0,function(){var f,h,c,t,i,p,l;return e(this,function(e){switch(e.label){case 0:if(!(n instanceof HTMLLinkElement))return[3,7];if(c=r(rt(),2),t=c[0],(i=c[1])&&u(i),!(!t&&!i&&!hr||hr&&!n.sheet||(w=i,w&&w.message&&w.message.includes("loading"))))return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),s("Linkelement "+y+" is not loaded yet and thus will be await for",n),[4,yl(n,y)];case 2:return e.sent(),[3,4];case 3:return u(e.sent()),vt=!0,[3,4];case 4:if(a)return[2,null];l=r(rt(),2);t=l[0];(i=l[1])&&u(i);e.label=5;case 5:if(t){if(lo(n.href))return[2,t];if(!it(t,!1))return[2,t]}return[4,oh(n.href)];case 6:return f=e.sent(),h=yr(n.href),a?[2,null]:[3,8];case 7:if(!ht())return[2,null];f=n.textContent.trim();h=yr(location.href);e.label=8;case 8:if(!f)return[3,13];e.label=9;case 9:return e.trys.push([9,11,,12]),[4,sh(f,h)];case 10:return p=e.sent(),o=function(n,t){if(!t)return null;var i=document.createElement("style");return i.classList.add("darkreader"),i.classList.add("darkreader--cors"),i.media="screen",i.textContent=t,n.parentNode.insertBefore(i,n.nextSibling),i.sheet.disabled=!0,fh.add(i),i}(n,p),[3,12];case 11:return u(e.sent()),[3,12];case 12:if(o)return v=du(o,"prev-sibling"),[2,o.sheet.cssRules];e.label=13;case 13:return[2,null]}var w})})}function rt(){try{return null==n.sheet?[null,null]:[n.sheet.cssRules,null]}catch(n){return[null,n]}}function yt(){var n=r(rt(),2),i=n[0],t=n[1];return t?(u(t),null):i}function ni(){n.addEventListener("__darkreader__updateSheet",pt);ye||tu&&n.sheet||function(){k=ft();d();var t=function(){ft()!==k&&(k=ft(),l());tu&&n.sheet?d():ut=requestAnimationFrame(t)};t()}()}function ft(){var n=yt();return n?n.length:null}function d(){cancelAnimationFrame(ut)}function pt(){function n(){g=!1;a||l()}tu=!0;d();g||(g=!0,"function"==typeof queueMicrotask?queueMicrotask(n):requestAnimationFrame(n))}function ti(){n.removeEventListener("__darkreader__updateSheet",pt);d()}function wt(){st.disconnect();a=!0;v&&v.stop();h&&h.stop();ti()}for(var p,k,ut,g,bt,l=t.update,kt=t.loadingStart,nt=t.loadingEnd,tt=[],w=n;(w=w.nextElementSibling)&&w.matches(".darkreader");)tt.push(w);var o=tt.find(function(n){return n.matches(".darkreader--cors")&&!fh.has(n)})||null,i=tt.find(function(n){return n.matches(".darkreader--sync")&&!uh.has(n)})||null,v=null,h=null,a=!1,et=!0,ot=ih(),st=new MutationObserver(function(){l()}),dt={attributes:!0,childList:!0,subtree:!0,characterData:!0};var b=!1,vt=!1,y=++eh;return p=!1,k=null,ut=null,g=!1,bt=0,{details:function(){var n=ct();return n?{rules:n}:(b||vt||(b=!0,kt(),gt().then(function(n){b=!1;nt();n&&l()}).catch(function(n){u(n);b=!1;nt()})),null)},render:function(t,r){function o(){return i||((i=n instanceof SVGStyleElement?document.createElementNS("http://www.w3.org/2000/svg","style"):document.createElement("style")).classList.add("darkreader"),i.classList.add("darkreader--sync"),i.media="screen",!ve&&n.title&&(i.title=n.title),uh.add(i)),h&&h.stop(),lt(),null==i.sheet&&(i.textContent=""),function(n){try{if(n.replaceSync)return void n.replaceSync("")}catch(n){u("Could not use fastpath for removing rules from stylesheet",n)}for(var t=n.cssRules.length-1;t>=0;t--)n.deleteRule(t)}(i.sheet),h?h.run():h=du(i,"prev-sibling",function(){p=!0;e()}),i.sheet}function e(){var n=p;p=!1;ot.modifySheet({prepareSheet:o,sourceCSSRules:f,theme:t,ignoreImageAnalysis:r,force:n,isAsyncCancelled:function(){return a}});et=0===i.sheet.cssRules.length;ot.shouldRebuildStyle()&&so(function(){return l()})}var f=ct();f&&(a=!1,e())},pause:wt,destroy:function(){if(wt(),c(o),c(i),nt(),at.has(y)){var n=at.get(y);at.delete(y);n&&n()}},watch:function(){st.observe(n,dt);n instanceof HTMLStyleElement&&ni()},restore:function(){i&&(++bt>10?u("Style sheet was moved multiple times",n):(u("Restore style",i,n),lt(),v&&v.skip(),h&&h.skip(),et||(p=!0,l())))}}}function yl(n,t){return f(this,void 0,void 0,function(){return e(this,function(){return[2,new Promise(function(i,r){var u=function(){n.removeEventListener("load",e);n.removeEventListener("error",f);at.delete(t)},e=function(){u();s("Linkelement "+t+" has been loaded");i()},f=function(){u();r("Linkelement "+t+" couldn't be loaded. "+n.href)};at.set(t,function(){u();r()});n.addEventListener("load",e);n.addEventListener("error",f);n.href||f()})]})})}function oh(n){return f(this,void 0,void 0,function(){return e(this,function(t){switch(t.label){case 0:return n.startsWith("data:")?[4,fetch(n)]:[3,3];case 1:return[4,t.sent().text()];case 2:case 4:return[2,t.sent()];case 3:return[4,rs({url:n,responseType:"text",mimeType:"text/css",origin:window.location.origin})]}})})}function sh(n,t,i){return void 0===i&&(i=new Map),f(this,void 0,void 0,function(){var l,s,f,h,a,o,r,v,c,y;return e(this,function(e){switch(e.label){case 0:n=function(n,t){return n.replace(rf,function(n){var i=ff(n);return'url("'+nf(t,i)+'")'})}(n=function(n){return n.replace(yo,"")}(n=n.replace(vo,"")),t);l=bt(uf,n);e.label=1;case 1:e.trys.push([1,10,11,12]);s=sr(l);f=s.next();e.label=2;case 2:return f.done?[3,9]:(h=f.value,a=ff(h.substring(7).trim().replace(/;$/,"")),o=nf(t,a),r=void 0,i.has(o)?(r=i.get(o),[3,7]):[3,3]);case 3:return e.trys.push([3,6,,7]),[4,oh(o)];case 4:return r=e.sent(),i.set(o,r),[4,sh(r,yr(o),i)];case 5:return r=e.sent(),[3,7];case 6:return u(e.sent()),r="",[3,7];case 7:n=n.split(h).join(r);e.label=8;case 8:return f=s.next(),[3,2];case 9:return[3,12];case 10:return v=e.sent(),c={error:v},[3,12];case 11:try{f&&!f.done&&(y=s.return)&&y.call(s)}finally{if(c)throw c.error;}return[7];case 12:return[2,n=n.trim()]}})})}function ru(n){we&&v(n.querySelectorAll(":not(:defined)"),function(n){var t=n.tagName.toLowerCase(),i;if(!t.includes("-")){if(i=n.getAttribute("is"),!i)return;t=i}st.has(t)||(st.set(t,new Set),function(n){return f(this,void 0,void 0,function(){return e(this,function(){return[2,new Promise(function(t){if(window.customElements&&"function"==typeof customElements.whenDefined)customElements.whenDefined(n).then(function(){return t()});else if(uu)fu.set(n,t),document.dispatchEvent(new CustomEvent("__darkreader__addUndefinedResolver",{detail:{tag:n}}));else{var i=function(){var r=st.get(n);r&&r.size>0&&(r.values().next().value.matches(":defined")?t():requestAnimationFrame(i))};requestAnimationFrame(i)}})]})})}(t).then(function(){if(iu){var n=st.get(t);st.delete(t);iu(Array.from(n))}}));st.get(t).add(n)})}function hh(n){(uu=!0,fu.has(n.detail.tag))&&fu.get(n.detail.tag)()}function pl(n,t,i){function o(n){f.set(n,n.previousElementSibling);e.set(n,n.nextElementSibling)}function s(n){var i=n.createdStyles,r=n.removedStyles,s=n.movedStyles;i.forEach(function(n){return o(n)});s.forEach(function(n){return o(n)});r.forEach(function(n){return t=n,f.delete(t),void e.delete(t);var t});i.forEach(function(n){return u.add(n)});r.forEach(function(n){return u.delete(n)});i.size+r.size+s.size>0&&t({created:Array.from(i),removed:Array.from(r),moved:Array.from(s),updated:[]})}function c(n){var t=n.additions,e=n.moves,o=n.deletions,i=new Set,u=new Set,f=new Set;t.forEach(function(n){return ot(n).forEach(function(n){return i.add(n)})});o.forEach(function(n){return ot(n).forEach(function(n){return u.add(n)})});e.forEach(function(n){return ot(n).forEach(function(n){return f.add(n)})});s({createdStyles:i,removedStyles:u,movedStyles:f});t.forEach(function(n){tt(n,r);ru(n)})}function l(n){var t=new Set(ot(n)),i=new Set,o=new Set,h=new Set;t.forEach(function(n){u.has(n)||i.add(n)});u.forEach(function(n){t.has(n)||o.add(n)});t.forEach(function(n){var t;i.has(n)||o.has(n)||(t=n).previousElementSibling===f.get(t)&&t.nextElementSibling===e.get(t)||h.add(n)});s({createdStyles:i,removedStyles:o,movedStyles:h});tt(n,r);ru(n)}function a(n){var i=new Set,r=new Set;n.forEach(function(n){var t=n.target;t.isConnected&&(rh(t)?i.add(t):t instanceof HTMLLinkElement&&t.disabled&&r.add(t))});i.size+r.size>0&&t({updated:Array.from(i),created:[],removed:Array.from(r),moved:[]})}function h(n){var i=ho(n,{onMinorMutations:c,onHugeMutations:l}),t=new MutationObserver(a);t.observe(n,{attributes:!0,attributeFilter:["rel","disabled","media"],subtree:!0});ur.push(i,t);re.add(n)}function r(n){var t=n.shadowRoot;null==t||re.has(t)||(h(t),i(t))}ch();var u=new Set(n),f=new WeakMap,e=new WeakMap;n.forEach(o);h(document);tt(document.documentElement,r);iu=function(n){var i=[];n.forEach(function(n){return bu(i,ot(n.shadowRoot))});t({created:i,updated:[],removed:[],moved:[]});n.forEach(function(n){var t=n.shadowRoot;null!=t&&(r(n),tt(t,r),ru(t))})};document.addEventListener("__darkreader__isDefined",hh);ru(document)}function ch(){ur.forEach(function(n){return n.disconnect()});ur.splice(0,ur.length);re=new WeakSet;iu=null;st.clear();document.removeEventListener("__darkreader__isDefined",hh)}function wl(n){var t=!1;return{render:function(i,u){n.adoptedStyleSheets.forEach(function(f){if(!fr.has(f)){var o=f.rules,e=new CSSStyleSheet;ih().modifySheet({prepareSheet:function(){for(var t=e.cssRules.length-1;t>=0;t--)e.deleteRule(t);return function(t,i){var u=g([],r(n.adoptedStyleSheets),!1),e=u.indexOf(t),f=u.indexOf(i);e!==f-1&&(f>=0&&u.splice(f,1),u.splice(e+1,0,i),n.adoptedStyleSheets=u)}(f,e),ue.set(f,e),fr.add(e),e},sourceCSSRules:o,theme:i,ignoreImageAnalysis:u,force:!1,isAsyncCancelled:function(){return t}})}})},destroy:function(){t=!0;var i=g([],r(n.adoptedStyleSheets),!1);n.adoptedStyleSheets.forEach(function(n){if(fr.has(n)){var t=i.indexOf(n);t>=0&&i.splice(t,1);ue.delete(n);fr.delete(n)}});n.adoptedStyleSheets=i}}}function bl(){var n;document.dispatchEvent(new CustomEvent("__darkreader__inlineScriptsAllowed"));var t=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"addRule"),i=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"insertRule"),u=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"deleteRule"),f=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"removeRule"),e=Object.getOwnPropertyDescriptor(Document.prototype,"styleSheets"),o=location.hostname.endsWith("baidu.com"),s=o?Object.getOwnPropertyDescriptor(Element.prototype,"getElementsByTagName"):null,h=function(){Object.defineProperty(CSSStyleSheet.prototype,"addRule",t);Object.defineProperty(CSSStyleSheet.prototype,"insertRule",i);Object.defineProperty(CSSStyleSheet.prototype,"deleteRule",u);Object.defineProperty(CSSStyleSheet.prototype,"removeRule",f);document.removeEventListener("__darkreader__cleanUp",h);document.removeEventListener("__darkreader__addUndefinedResolver",c);Object.defineProperty(Document.prototype,"styleSheets",e);o&&Object.defineProperty(Element.prototype,"getElementsByTagName",s)},c=function(n){customElements.whenDefined(n.detail.tag).then(function(){document.dispatchEvent(new CustomEvent("__darkreader__isDefined",{detail:{tag:n.detail.tag}}))})};document.addEventListener("__darkreader__cleanUp",h);document.addEventListener("__darkreader__addUndefinedResolver",c);n=new Event("__darkreader__updateSheet");Object.defineProperty(CSSStyleSheet.prototype,"addRule",Object.assign({},t,{value:function(i,r,u){return t.value.call(this,i,r,u),this.ownerNode&&!this.ownerNode.classList.contains("darkreader")&&this.ownerNode.dispatchEvent(n),-1}}));Object.defineProperty(CSSStyleSheet.prototype,"insertRule",Object.assign({},i,{value:function(t,r){var u=i.value.call(this,t,r);return this.ownerNode&&!this.ownerNode.classList.contains("darkreader")&&this.ownerNode.dispatchEvent(n),u}}));Object.defineProperty(CSSStyleSheet.prototype,"deleteRule",Object.assign({},u,{value:function(t){u.value.call(this,t);this.ownerNode&&!this.ownerNode.classList.contains("darkreader")&&this.ownerNode.dispatchEvent(n)}}));Object.defineProperty(CSSStyleSheet.prototype,"removeRule",Object.assign({},f,{value:function(t){f.value.call(this,t);this.ownerNode&&!this.ownerNode.classList.contains("darkreader")&&this.ownerNode.dispatchEvent(n)}}));Object.defineProperty(Document.prototype,"styleSheets",Object.assign({},e,{get:function(){var n=g([],r(e.get.call(this)),!1).filter(function(n){return!n.ownerNode.classList.contains("darkreader")});return Object.setPrototypeOf(n,StyleSheetList.prototype)}}));o&&Object.defineProperty(Element.prototype,"getElementsByTagName",Object.assign({},s,{value:function(n){var i=this,t=function(){var t=s.value.call(i,n);return"style"===n&&(t=Object.setPrototypeOf(g([],r(t),!1).filter(function(n){return!n.classList.contains("darkreader")}),NodeList.prototype)),t},u=t();return new Proxy(u,{get:function(n,i){return t()[Number(i)]}})}}))}function w(n,t){void 0===t&&(t=document.head||document);var i=t.querySelector("."+n);return i||((i=document.createElement("style")).classList.add("darkreader"),i.classList.add(n),i.media="screen",i.textContent=""),i}function vt(n,t){ti.has(t)&&ti.get(t).stop();ti.set(t,du(n,"parent"))}function kl(){var u=w("darkreader--fallback",document),c,n,r,f,e,s,l,b,v;u.textContent=bf(t,{strict:!0});document.head.insertBefore(u,document.head.firstChild);vt(u,"fallback");c=w("darkreader--user-agent");c.textContent=sl(t,ah,t.styleSystemControls);document.head.insertBefore(c,u.nextSibling);vt(c,"user-agent");f=w("darkreader--text");f.textContent=t.useFont||t.textStroke>0?(n=t,(r=[]).push('*:not(pre, pre *, code, .far, .fa, .glyphicon, [class*="vjs-"], .fab, .fa-github, .fas, .material-icons, .icofont, .typcn, mu, [class*="mu-"], .glyphicon, .icon) {'),n.useFont&&n.fontFamily&&r.push("  font-family: "+n.fontFamily+" !important;"),n.textStroke>0&&(r.push("  -webkit-text-stroke: "+n.textStroke+"px !important;"),r.push("  text-stroke: "+n.textStroke+"px !important;")),r.push("}"),r.join("\n")):"";document.head.insertBefore(f,u.nextSibling);vt(f,"text");e=w("darkreader--invert");e.textContent=o&&Array.isArray(o.invert)&&o.invert.length>0?[o.invert.join(", ")+" {","    filter: "+is(i(i({},t),{contrast:0===t.mode?t.contrast:ut(t.contrast-10,0,100)}))+" !important;","}"].join("\n"):"";document.head.insertBefore(e,f.nextSibling);vt(e,"invert");s=w("darkreader--inline");s.textContent=ws();document.head.insertBefore(s,e.nextSibling);vt(s,"inline");l=w("darkreader--override");l.textContent=o&&o.css?vh(o.css):"";document.head.appendChild(l);vt(l,"override");var a=w("darkreader--variables"),k=es(t),g=t.darkSchemeBackgroundColor,tt=t.darkSchemeTextColor,it=t.lightSchemeBackgroundColor,rt=t.lightSchemeTextColor,d=t.mode,y=0===d?it:g,p=0===d?rt:tt;y=h(ht(y),t);p=nt(ht(p),t);a.textContent=[":root {","   --darkreader-neutral-background: "+y+";","   --darkreader-neutral-text: "+p+";","   --darkreader-selection-background: "+k.backgroundColorSelection+";","   --darkreader-selection-text: "+k.foregroundColorSelection+";","}"].join("\n");document.head.insertBefore(a,s.nextSibling);vt(a,"variables");b=w("darkreader--root-vars");document.head.insertBefore(b,a.nextSibling);v=function(n,t){void 0===t&&(t=document.head||document);var i=t.querySelector("."+n);return i||((i=document.createElement("script")).classList.add("darkreader"),i.classList.add(n)),i}("darkreader--proxy");v.append("("+bl+")()");document.head.insertBefore(v,b.nextSibling);v.remove()}function fe(n){var u=w("darkreader--inline",n),r,f;u.textContent=ws();n.insertBefore(u,n.firstChild);r=w("darkreader--override",n);r.textContent=o&&o.css?vh(o.css):"";n.insertBefore(r,u.nextSibling);f=w("darkreader--invert",n);f.textContent=o&&Array.isArray(o.invert)&&o.invert.length>0?[o.invert.join(", ")+" {","    filter: "+is(i(i({},t),{contrast:0===t.mode?t.contrast:ut(t.contrast-10,0,100)}))+" !important;","}"].join("\n"):"";n.insertBefore(f,r.nextSibling);ou.add(n)}function vh(n){return n.replace(/\${(.+?)}/g,function(n,i){var r=it(i);return r?vi(r,t,dc):(u("Couldn't parse CSSTemplate's color."),i)})}function ee(){var n=document.querySelector(".darkreader--fallback");n&&(n.textContent="")}function ph(n){var r=++yh,i;return s("New manager for element, with loadingStyleID "+r,n),i=vl(n,{update:function(){var n=i.details();n&&(l.addRulesForMatching(n.rules),l.matchVariablesAndDependants(),i.render(t,k))},loadingStart:function(){if(!ui()||!se){d.add(r);s("Current amount of styles loading: "+d.size);var n=document.querySelector(".darkreader--fallback");n.textContent||(n.textContent=bf(t,{strict:!1}))}},loadingEnd:function(){d.delete(r);s("Removed loadingStyle "+r+", now awaiting: "+d.size);s("To-do to be loaded",d);0===d.size&&ui()&&ee()}}),p.set(n,i),i}function wh(n){var t=p.get(n);t&&(t.destroy(),p.delete(n))}function kh(){0!==d.size?u("DOM is ready, but still have styles being loaded.",d):ee()}function dh(){document.removeEventListener("visibilitychange",ii);ii=null}function gh(){function i(){var n,i;!function(){var n,i;oe();n=ot(document).filter(function(n){return!p.has(n)}).map(function(n){return ph(n)});n.map(function(n){return n.details()}).filter(function(n){return n&&n.rules.length>0}).forEach(function(n){l.addRulesForMatching(n.rules)});l.matchVariablesAndDependants();l.setOnRootVariableChange(function(){l.putRootVars(document.head.querySelector(".darkreader--root-vars"),t)});l.putRootVars(document.head.querySelector(".darkreader--root-vars"),t);p.forEach(function(n){return n.render(t,k)});0===d.size&&ee();n.forEach(function(n){return n.watch()});i=function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i}(document.querySelectorAll(gt));tt(document.documentElement,function(n){fe(n.shadowRoot);var t=n.shadowRoot.querySelectorAll(gt);t.length>0&&bu(i,t)});i.forEach(function(n){return ie(n,t,er,k)});nc(document)}();pl(Array.from(p.keys()),function(n){var f=n.created,e=n.updated,o=n.removed,r=n.moved,u=o,h=f.concat(e).concat(r).filter(function(n){return!p.has(n)}),c=r.filter(function(n){return p.has(n)}),i;s("Styles to be removed:",u);u.forEach(function(n){return wh(n)});i=h.map(function(n){return ph(n)});i.map(function(n){return n.details()}).filter(function(n){return n&&n.rules.length>0}).forEach(function(n){l.addRulesForMatching(n.rules)});l.matchVariablesAndDependants();i.forEach(function(n){return n.render(t,k)});i.forEach(function(n){return n.watch()});c.forEach(function(n){return p.get(n).restore()})},function(n){fe(n);nc(n)});n=function(n){ie(n,t,er,k);n===document.documentElement&&n.getAttribute("style").includes("--")&&(l.matchVariablesAndDependants(),l.putRootVars(document.head.querySelector(".darkreader--root-vars"),t))};i=function(n){fe(n);var i=n.querySelectorAll(gt);i.length>0&&v(i,function(n){return ie(n,t,er,k)})};ne(document,n,i);tt(document.documentElement,function(t){ne(t.shadowRoot,n,i)});fo(kh)}var r,u,n,f;kl();document.hidden?(r=i,u=Boolean(ii),ii=function(){document.hidden||(dh(),r(),se=!0)},u||document.addEventListener("visibilitychange",ii)):i();n=t;(f=document.querySelector(ds))?gs(f,n):(et&&et.disconnect(),(et=new MutationObserver(function(t){var i,f,r,u;n:for(i=0;i<t.length;i++)for(f=t[i].addedNodes,r=0;r<f.length;r++)if(u=f[r],u instanceof HTMLMetaElement&&u.name===al){et.disconnect();et=null;gs(u,n);break n}})).observe(document.head,{childList:!0}))}function nc(n){if(Array.isArray(n.adoptedStyleSheets)&&n.adoptedStyleSheets.length>0){var i=wl(n);eu.push(i);i.render(t,k)}}function dl(){p.forEach(function(n){return n.pause()});v(ti.values(),function(n){return n.stop()});ti.clear();ch();ni.forEach(function(n){return n.disconnect()});ir.forEach(function(n){return n.disconnect()});ni.clear();ir.clear();eo(kh);ei.clear()}function tc(){var n,t=document.querySelector('meta[name="darkreader"]');return t?t.content!==lh:((n=document.createElement("meta")).name="darkreader",n.content=lh,document.head.appendChild(n),!1)}function gl(n,i,r){var u,f;if(t=n,(o=i)?(k=Array.isArray(o.ignoreImageAnalysis)?o.ignoreImageAnalysis:[],er=Array.isArray(o.ignoreInlineStyle)?o.ignoreInlineStyle:[]):(k=[],er=[]),ah=r,document.head){if(tc())return;document.documentElement.setAttribute("data-darkreader-mode","dynamic");document.documentElement.setAttribute("data-darkreader-scheme",t.mode?"dark":"dimmed");gh()}else lu||(u=w("darkreader--fallback"),document.documentElement.appendChild(u),u.textContent=bf(t,{strict:!0})),f=new MutationObserver(function(){if(document.head){if(f.disconnect(),tc())return void ic();gh()}}),f.observe(document,{childList:!0,subtree:!0})}function ic(){document.documentElement.removeAttribute("data-darkreader-mode");document.documentElement.removeAttribute("data-darkreader-scheme");l.clear();yt.clear();dh();oe();dl();cl();c(document.querySelector(".darkreader--fallback"));document.head&&(!function(){et&&(et.disconnect(),et=null);var n=document.querySelector(ds);n&&rr&&(n.content=rr)}(),c(document.head.querySelector(".darkreader--user-agent")),c(document.head.querySelector(".darkreader--text")),c(document.head.querySelector(".darkreader--invert")),c(document.head.querySelector(".darkreader--inline")),c(document.head.querySelector(".darkreader--override")),c(document.head.querySelector(".darkreader--variables")),c(document.head.querySelector(".darkreader--root-vars")),c(document.head.querySelector('meta[name="darkreader"]')),document.dispatchEvent(new CustomEvent("__darkreader__cleanUp")),c(document.head.querySelector(".darkreader--proxy")));ou.forEach(function(n){c(n.querySelector(".darkreader--inline"));c(n.querySelector(".darkreader--override"))});ou.clear();v(p.keys(),function(n){return wh(n)});d.clear();at.clear();v(document.querySelectorAll(".darkreader"),c);eu.forEach(function(n){n.destroy()});eu.splice(0)}function na(n){return f(this,void 0,void 0,function(){var t,i;return e(this,function(r){switch(r.label){case 0:return t=[],bt(he,n,1).forEach(function(n){var i=be(n);t.push(i)}),[4,Promise.all(t)];case 1:return i=r.sent(),[2,n.replace(he,function(){return'url("'+i.shift()+'")'})]}})})}function ta(){return f(this,void 0,void 0,function(){function t(t,i){var r=document.querySelector(t);r&&r.textContent&&(n.push("/* "+i+" */"),n.push(r.textContent),n.push(""))}var n,i,r,u,f;return e(this,function(e){switch(e.label){case 0:return n=['/*\n                        _______\n                       /       \\\n                      .==.    .==.\n                     ((  ))==((  ))\n                    / "=="    "=="\\\n                   /____|| || ||___\\\n       ________     ____    ________  ___    ___\n       |  ___  \\   /    \\   |  ___  \\ |  |  /  /\n       |  |  \\  \\ /  /\\  \\  |  |  \\  \\|  |_/  /\n       |  |   )  /  /__\\  \\ |  |__/  /|  ___  \\\n       |  |__/  /  ______  \\|  ____  \\|  |  \\  \\\n_______|_______/__/ ____ \\__\\__|___\\__\\__|___\\__\\____\n|  ___  \\ |  ____/ /    \\   |  ___  \\ |  ____|  ___  \\\n|  |  \\  \\|  |___ /  /\\  \\  |  |  \\  \\|  |___|  |  \\  \\\n|  |__/  /|  ____/  /__\\  \\ |  |   )  |  ____|  |__/  /\n|  ____  \\|  |__/  ______  \\|  |__/  /|  |___|  ____  \\\n|__|   \\__\\____/__/      \\__\\_______/ |______|__|   \\__\\\n                https://darkreader.org\n*/\n\n/*! Dark reader generated CSS | Licensed under MIT https://github.com/darkreader/darkreader/blob/master/LICENSE */\n'],t(".darkreader--fallback","Fallback Style"),t(".darkreader--user-agent","User-Agent Style"),t(".darkreader--text","Text Style"),t(".darkreader--invert","Invert Style"),t(".darkreader--variables","Variables Style"),i=[],document.querySelectorAll(".darkreader--sync").forEach(function(n){v(n.sheet.cssRules,function(n){n&&n.cssText&&i.push(n.cssText)})}),i.length?(r=function(n){function r(n){return n.replace(/^\s+/,"")}function u(n){return 0===n?"":" ".repeat(4*n)}var f,t;if(n.length<5e4)for(f=/[^{}]+{\s*}/;f.test(n);)n=n.replace(f,"");for(var s=n.replace(/\s{2,}/g," ").replace(/\{/g,"{\n").replace(/\}/g,"\n}\n").replace(/\;(?![^\(|\"]*(\)|\"))/g,";\n").replace(/\,(?![^\(|\"]*(\)|\"))/g,",\n").replace(/\n\s*\n/g,"\n").split("\n"),e=0,i=[],o=0,h=s.length;o<h;o++)t=s[o]+"\n",t.includes("{")?i.push(u(e++)+r(t)):t.includes("}")?i.push(u(--e)+r(t)):i.push(u(e)+r(t));return i.join("").trim()}(i.join("\n")),n.push("/* Modified CSS */"),f=(u=n).push,[4,na(r)]):[3,2];case 1:f.apply(u,[e.sent()]);n.push("");e.label=2;case 2:return t(".darkreader--override","Override Style"),[2,n.join("\n")]}})})}function uc(n,t){void 0===n&&(n={});void 0===t&&(t=null);var r=i(i({},hc),n);if(r.engine!==io)throw new Error("Theme engine is not supported.");gl(r,t,rc);su=!0}function ce(){ic();su=!1}function or(){ri.matches?uc(hu.themeOptions,hu.fixes):ce()}var i=function(){return i=Object.assign||function(n){for(var r,i,t=1,u=arguments.length;t<u;t++)for(i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n},i.apply(this,arguments)},cu="bg-fetch-response",le="cs-fetch",y="undefined"==typeof navigator?"some useragent":navigator.userAgent.toLowerCase(),ae="undefined"==typeof navigator?"some platform":navigator.platform.toLowerCase(),ve=y.includes("chrome")||y.includes("chromium"),ye=y.includes("thunderbird"),lu=y.includes("firefox")||ye,au,vu,yu,we,pu,wu,cr,no,to,fi,ei,gu,ar,oi,vr,yt,tf,ao,rf,uf,vo,yo,ef,sf,ct,li,ai,go,ns,af,wr,br,pi,wi,kr,us,os,ki,l,tr,gt,ni,ir,te,bs,nh,th,eh,at,re,iu,ur,st,uu,fu,ue,fr,ti,ou,yh,d,bh,oe,ii,se,he,su,rc,ri,hu,fc;y.includes("vivaldi");y.includes("yabrowser");y.includes("opr")||y.includes("opera");y.includes("edg");var hr=y.includes("safari")&&!ve,ec=ae.startsWith("win"),pe=ae.startsWith("mac");y.includes("mobile");vu="function"==typeof ShadowRoot;yu="function"==typeof MediaQueryList&&"function"==typeof MediaQueryList.prototype.addEventListener;(au=y.match(/chrom[e|ium]\/([^ ]+)/))&&au[1]&&au[1];we=function(){try{return document.querySelector(":defined"),!0}catch(n){return!1}}();globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.getManifest&&globalThis.chrome.runtime.getManifest().manifest_version;pu=function(n){return f(void 0,void 0,void 0,function(){return e(this,function(){return[2,Promise.reject(new Error(["Embedded Dark Reader cannot access a cross-origin resource",n,"Overview your URLs and CORS policies or use","`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.","See if using `DarkReader.setFetchMethod(window.fetch)`","before `DarkReader.enable()` works."].join(" ")))]})})};wu=pu;window.chrome||(window.chrome={});chrome.runtime||(chrome.runtime={});cr=new Set;"function"==typeof chrome.runtime.sendMessage?(no=chrome.runtime.sendMessage,chrome.runtime.sendMessage=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];de.apply(void 0,g([],r(t),!1));no.apply(chrome.runtime,t)}):chrome.runtime.sendMessage=de;(chrome.runtime.onMessage||(chrome.runtime.onMessage={}),"function"==typeof chrome.runtime.onMessage.addListener)?(to=chrome.runtime.onMessage.addListener,chrome.runtime.onMessage.addListener=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];ge(t[0]);to.apply(chrome.runtime.onMessage,t)}):chrome.runtime.onMessage.addListener=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ge(t[0])};var io="dynamicTheme",ro={background:"#181a1b",text:"#e8e6e3"},uo={background:"#dcdad7",text:"#181a1b"},hc={mode:1,brightness:100,contrast:100,grayscale:0,sepia:0,useFont:!1,fontFamily:pe?"Helvetica Neue":ec?"Segoe UI":"Open Sans",textStroke:0,engine:io,stylesheet:"",darkSchemeBackgroundColor:ro.background,darkSchemeTextColor:ro.text,lightSchemeBackgroundColor:uo.background,lightSchemeTextColor:uo.text,scrollbarColor:pe?"":"auto",selectionColor:"auto",styleSystemControls:!0,lightColorScheme:"Default",darkColorScheme:"Default"};fi=new Set;ei=new Set;ui()||(gu=function(){ui()&&(fi.forEach(function(n){return n()}),fi.clear(),oo()&&(document.removeEventListener("readystatechange",gu),ei.forEach(function(n){return n()}),ei.clear()))},document.addEventListener("readystatechange",gu));oi=new Map;vr=new WeakMap;yt=new Map;tf=["background","border","border-color","border-bottom","border-left","border-right","border-top","outline","outline-color"];ao=hr?tf.map(function(n){return[n,new RegExp(n+":\\s*(.*?)\\s*;")]}):null;rf=/url\((('.+?')|(".+?")|([^\)]*?))\)/g;uf=/@import\s*(url\()?(('.+?')|(".+?")|([^\)]*?))\)?;?/g;vo=/\/\*[\s\S]*?\*\//g;yo=/@font-face\s*{[^}]*}/g;var cc=/^rgba?\([^\(\)]+\)$/,lc=/^hsla?\([^\(\)]+\)$/,ac=/^#[0-9a-f]+$/i;var vc=[255,255,255,1],yc={"%":100},pc=[360,1,1,1],wc={"%":100,deg:360,rad:2*Math.PI,turn:1},bc=function(n){return n>="0"&&n<="9"};ef=new Map(Object.entries({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074}));sf=new Map(Object.entries({ActiveBorder:3906044,ActiveCaption:0,AppWorkspace:11184810,Background:6513614,ButtonFace:16777215,ButtonHighlight:15329769,ButtonShadow:10461343,ButtonText:0,CaptionText:0,GrayText:8355711,Highlight:11720703,HighlightText:0,InactiveBorder:16777215,InactiveCaption:16777215,InactiveCaptionText:0,InfoBackground:16514245,InfoText:0,Menu:16185078,MenuText:16777215,Scrollbar:11184810,ThreeDDarkShadow:0,ThreeDFace:12632256,ThreeDHighlight:16777215,ThreeDLightShadow:16777215,ThreeDShadow:0,Window:15527148,WindowFrame:11184810,WindowText:0,"-webkit-focus-ring-color":15046400}).map(function(n){var t=r(n,2),i=t[0],u=t[1];return[i.toLowerCase(),u]}));ct={identity:function(){return[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1]]},invertNHue:function(){return[[.333,-.667,-.667,0,1],[-.667,.333,-.667,0,1],[-.667,-.667,.333,0,1],[0,0,0,1,0],[0,0,0,0,1]]},brightness:function(n){return[[n,0,0,0,0],[0,n,0,0,0],[0,0,n,0,0],[0,0,0,1,0],[0,0,0,0,1]]},contrast:function(n){var t=(1-n)/2;return[[n,0,0,0,t],[0,n,0,0,t],[0,0,n,0,t],[0,0,0,1,0],[0,0,0,0,1]]},sepia:function(n){return[[.393+.607*(1-n),.769-.769*(1-n),.189-.189*(1-n),0,0],[.349-.349*(1-n),.686+.314*(1-n),.168-.168*(1-n),0,0],[.272-.272*(1-n),.534-.534*(1-n),.131+.869*(1-n),0,0],[0,0,0,1,0],[0,0,0,0,1]]},grayscale:function(n){return[[.2126+.7874*(1-n),.7152-.7152*(1-n),.0722-.0722*(1-n),0,0],[.2126-.2126*(1-n),.7152+.2848*(1-n),.0722-.0722*(1-n),0,0],[.2126-.2126*(1-n),.7152-.7152*(1-n),.0722+.9278*(1-n),0,0],[0,0,0,1,0],[0,0,0,0,1]]}};li=new Map;ai=new Map;go=["r","g","b","a"];ns=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor"];wr=.55;!function(n){n[n.light=0]="light";n[n.dark=1]="dark"}(af||(af={}));var rl=0,yf=new Map,pf=new Map;chrome.runtime.onMessage.addListener(function(n){var f=n.type,e=n.data,u=n.error,t=n.id,i,r;f===cu&&(i=yf.get(t),r=pf.get(t),yf.delete(t),pf.delete(t),u?r&&r(u):i&&i(e))});br=new(function(){function n(){this.queue=[];this.timerId=null;this.frameDuration=1e3/60}return n.prototype.addToQueue=function(n){this.queue.push(n);this.startQueue()},n.prototype.stopQueue=function(){null!==this.timerId&&(cancelAnimationFrame(this.timerId),this.timerId=null);this.queue=[]},n.prototype.startQueue=function(){var n=this;this.timerId||(this.timerId=requestAnimationFrame(function(){n.timerId=null;for(var t,i=Date.now();t=n.queue.shift();)if(t(),Date.now()-i>=n.frameDuration){n.startQueue();break}}))},n}());kr=1024;us=5242880;os=new Set(["inherit","transparent","initial","currentcolor","none","unset"]);ki=new Map;var hl=/[\-a-z]+gradient\(([^\(\)]*(\(([^\(\)]*(\(.*?\)))*[^\(\)]*\))){0,15}[^\(\)]*\)/g,dr=new Map,rt=new Map;l=new(function(){function n(){this.varTypes=new Map;this.rulesQueue=[];this.definedVars=new Set;this.varRefs=new Map;this.unknownColorVars=new Set;this.unknownBgVars=new Set;this.undefinedVars=new Set;this.initialVarTypes=new Map;this.changedTypeVars=new Set;this.typeChangeSubscriptions=new Map;this.unstableVarValues=new Map}return n.prototype.clear=function(){this.varTypes.clear();this.rulesQueue.splice(0);this.definedVars.clear();this.varRefs.clear();this.unknownColorVars.clear();this.unknownBgVars.clear();this.undefinedVars.clear();this.initialVarTypes.clear();this.changedTypeVars.clear();this.typeChangeSubscriptions.clear();this.unstableVarValues.clear()},n.prototype.isVarType=function(n,t){return this.varTypes.has(n)&&(this.varTypes.get(n)&t)>0},n.prototype.addRulesForMatching=function(n){this.rulesQueue.push(n)},n.prototype.matchVariablesAndDependants=function(){var n=this;this.changedTypeVars.clear();this.initialVarTypes=new Map(this.varTypes);this.collectRootVariables();this.collectVariablesAndVarDep(this.rulesQueue);this.rulesQueue.splice(0);this.collectRootVarDependants();this.varRefs.forEach(function(t,i){t.forEach(function(t){n.varTypes.has(i)&&n.resolveVariableType(t,n.varTypes.get(i))})});this.unknownColorVars.forEach(function(t){n.unknownBgVars.has(t)?(n.unknownColorVars.delete(t),n.unknownBgVars.delete(t),n.resolveVariableType(t,1)):n.isVarType(t,7)?n.unknownColorVars.delete(t):n.undefinedVars.add(t)});this.unknownBgVars.forEach(function(t){null!=n.findVarRef(t,function(t){return n.unknownColorVars.has(t)||n.isVarType(t,6)})?n.itarateVarRefs(t,function(t){n.resolveVariableType(t,1)}):n.isVarType(t,9)?n.unknownBgVars.delete(t):n.undefinedVars.add(t)});this.changedTypeVars.forEach(function(t){n.typeChangeSubscriptions.has(t)&&n.typeChangeSubscriptions.get(t).forEach(function(n){n()})});this.changedTypeVars.clear()},n.prototype.getModifierForVariable=function(n){var t=this;return function(i){var u=n.varName,r=n.sourceValue,o=n.rule,s=n.ignoredImgSelectors,h=n.isCancelled,f=function(){var e=[],c=function(n,f,o){var s,c,h;t.isVarType(u,n)&&(c=f(u),lt(r)?ys(r)?(h=nr(r,t.unstableVarValues),h||(h=1===n?"#ffffff":"#000000"),s=o(h,i)):s=ft(r,function(n){return f(n)},function(n){return o(n,i)}):s=o(r,i),e.push({property:c,value:s}))},l,n,f;return(c(1,di,kt),c(2,kf,gi),c(4,df,nu),t.isVarType(u,8))&&(l=vs(u),n=r,lt(r)&&(n=ft(r,function(n){return di(n)},function(n){return kt(n,i)})),f=hs(n,o,s,h),n="function"==typeof f?f(i):f,e.push({property:l,value:n})),e},e=new Set;return{declarations:f(),onTypeChange:{addListener:function(n){var i=function(){var t=f();n(t)};e.add(i);t.subscribeForVarTypeChange(u,i)},removeListeners:function(){e.forEach(function(n){t.unsubscribeFromVariableTypeChanges(u,n)})}}}}},n.prototype.getModifierForVarDependant=function(n,t){var i=this,r,e,u,f;return t.match(/^\s*(rgb|hsl)a?\(/)?(r=n.startsWith("background"),e="color"===n||"caret-color"===n,function(n){var u=nr(t,i.unstableVarValues);return u||(u=r?"#ffffff":"#000000"),(r?kt:e?gi:nu)(u,n)}):"background-color"===n?function(n){return ft(t,function(n){return di(n)},function(t){return kt(t,n)})}:"color"===n||"caret-color"===n?function(n){return ft(t,function(n){return kf(n)},function(t){return gi(t,n)})}:"background"===n||"background-image"===n||"box-shadow"===n?function(r){var u=new Set,f=function(){var e=ft(t,function(n){return i.isVarType(n,1)?di(n):i.isVarType(n,8)?vs(n):(u.add(n),n)},function(n){return kt(n,r)}),f;return"box-shadow"===n&&(f=cs(e)(r),f.unparseableMatchesLength!==f.matchesLength)?f.result:e},e=f();return u.size>0?new Promise(function(n){var t=u.values().next().value,r=function(){i.unsubscribeFromVariableTypeChanges(t,r);var u=f();n(u)};i.subscribeForVarTypeChange(t,r)}):e}:n.startsWith("border")||n.startsWith("outline")?t.endsWith(")")&&(u=t.match(/((rgb|hsl)a?)\(/),u)?(f=u.index,function(n){return nr(t,i.unstableVarValues)?""+t.substring(0,f)+nu(nr(t.substring(f,t.length),i.unstableVarValues),n):t}):function(n){return ft(t,function(n){return df(n)},function(t){return gi(t,n)})}:null},n.prototype.subscribeForVarTypeChange=function(n,t){this.typeChangeSubscriptions.has(n)||this.typeChangeSubscriptions.set(n,new Set);var i=this.typeChangeSubscriptions.get(n);i.has(t)||i.add(t)},n.prototype.unsubscribeFromVariableTypeChanges=function(n,t){this.typeChangeSubscriptions.has(n)&&this.typeChangeSubscriptions.get(n).delete(t)},n.prototype.collectVariablesAndVarDep=function(n){var t=this;n.forEach(function(n){hi(n,function(n){n.style&&pt(n.style,function(n,i){gr(n)&&t.inspectVariable(n,i);lt(i)&&t.inspectVarDependant(n,i)})})})},n.prototype.collectRootVariables=function(){var n=this;pt(document.documentElement.style,function(t,i){gr(t)&&n.inspectVariable(t,i)})},n.prototype.inspectVariable=function(n,t){(this.unstableVarValues.set(n,t),lt(t)&&ys(t)&&(this.unknownColorVars.add(n),this.definedVars.add(n)),this.definedVars.has(n))||(this.definedVars.add(n),it(t)?this.unknownColorVars.add(n):(t.includes("url(")||t.includes("linear-gradient(")||t.includes("radial-gradient("))&&this.resolveVariableType(n,8))},n.prototype.resolveVariableType=function(n,t){var r=this.initialVarTypes.get(n)||0,i=(this.varTypes.get(n)||0)|t;this.varTypes.set(n,i);(i!==r||this.undefinedVars.has(n))&&(this.changedTypeVars.add(n),this.undefinedVars.delete(n));this.unknownColorVars.delete(n);this.unknownBgVars.delete(n)},n.prototype.collectRootVarDependants=function(){var n=this;pt(document.documentElement.style,function(t,i){lt(i)&&n.inspectVarDependant(t,i)})},n.prototype.inspectVarDependant=function(n,t){var i=this;gr(n)?this.iterateVarDeps(t,function(t){i.varRefs.has(n)||i.varRefs.set(n,new Set);i.varRefs.get(n).add(t)}):"background-color"===n||"box-shadow"===n?this.iterateVarDeps(t,function(n){return i.resolveVariableType(n,1)}):"color"===n||"caret-color"===n?this.iterateVarDeps(t,function(n){return i.resolveVariableType(n,2)}):n.startsWith("border")||n.startsWith("outline")?this.iterateVarDeps(t,function(n){return i.resolveVariableType(n,4)}):"background"!==n&&"background-image"!==n||this.iterateVarDeps(t,function(n){if(!i.isVarType(n,9)){var t=null!=i.findVarRef(n,function(n){return i.unknownColorVars.has(n)||i.isVarType(n,6)});i.itarateVarRefs(n,function(n){t?i.resolveVariableType(n,1):i.unknownBgVars.add(n)})}})},n.prototype.iterateVarDeps=function(n,t){var i=new Set;!function(n,t){ft(n,function(n){return t(n),n})}(n,function(n){return i.add(n)});i.forEach(function(n){return t(n)})},n.prototype.findVarRef=function(n,t,i){var e,s,f,u,r,h,o;if(void 0===i&&(i=new Set),i.has(n))return null;if(i.add(n),t(n))return n;if(f=this.varRefs.get(n),!f||0===f.size)return null;try{for(u=sr(f),r=u.next();!r.done;r=u.next())if(h=r.value,o=this.findVarRef(h,t,i),o)return o}catch(n){e={error:n}}finally{try{r&&!r.done&&(s=u.return)&&s.call(u)}finally{if(e)throw e.error;}}return null},n.prototype.itarateVarRefs=function(n,t){this.findVarRef(n,function(n){return t(n),!1})},n.prototype.setOnRootVariableChange=function(n){this.onRootVariableDefined=n},n.prototype.putRootVars=function(n,t){var s,c,u=this,h=n.sheet,f,e,o,i,a;h.cssRules.length>0&&h.deleteRule(0);f=new Map;pt(document.documentElement.style,function(n,i){gr(n)&&(u.isVarType(n,1)&&f.set(di(n),kt(i,t)),u.isVarType(n,2)&&f.set(kf(n),gi(i,t)),u.isVarType(n,4)&&f.set(df(n),nu(i,t)),u.subscribeForVarTypeChange(n,u.onRootVariableDefined))});e=[];e.push(":root {");try{for(o=sr(f),i=o.next();!i.done;i=o.next()){var l=r(i.value,2),v=l[0],y=l[1];e.push("    "+v+": "+y+";")}}catch(n){s={error:n}}finally{try{i&&!i.done&&(c=o.return)&&c.call(o)}finally{if(s)throw s.error;}}e.push("}");a=e.join("\n");h.insertRule(a)},n}());var dt={"background-color":{customProp:"--darkreader-inline-bgcolor",cssProp:"background-color",dataAttr:"data-darkreader-inline-bgcolor"},"background-image":{customProp:"--darkreader-inline-bgimage",cssProp:"background-image",dataAttr:"data-darkreader-inline-bgimage"},"border-color":{customProp:"--darkreader-inline-border",cssProp:"border-color",dataAttr:"data-darkreader-inline-border"},"border-bottom-color":{customProp:"--darkreader-inline-border-bottom",cssProp:"border-bottom-color",dataAttr:"data-darkreader-inline-border-bottom"},"border-left-color":{customProp:"--darkreader-inline-border-left",cssProp:"border-left-color",dataAttr:"data-darkreader-inline-border-left"},"border-right-color":{customProp:"--darkreader-inline-border-right",cssProp:"border-right-color",dataAttr:"data-darkreader-inline-border-right"},"border-top-color":{customProp:"--darkreader-inline-border-top",cssProp:"border-top-color",dataAttr:"data-darkreader-inline-border-top"},"box-shadow":{customProp:"--darkreader-inline-boxshadow",cssProp:"box-shadow",dataAttr:"data-darkreader-inline-boxshadow"},color:{customProp:"--darkreader-inline-color",cssProp:"color",dataAttr:"data-darkreader-inline-color"},fill:{customProp:"--darkreader-inline-fill",cssProp:"fill",dataAttr:"data-darkreader-inline-fill"},stroke:{customProp:"--darkreader-inline-stroke",cssProp:"stroke",dataAttr:"data-darkreader-inline-stroke"},"outline-color":{customProp:"--darkreader-inline-outline",cssProp:"outline-color",dataAttr:"data-darkreader-inline-outline"},"stop-color":{customProp:"--darkreader-inline-stopcolor",cssProp:"stop-color",dataAttr:"data-darkreader-inline-stopcolor"}},gf=Object.values(dt),ps={};gf.forEach(function(n){var t=n.cssProp,i=n.customProp;return ps[i]=t});tr=["style","fill","stop-color","stroke","bgcolor","color"];gt=tr.map(function(n){return"["+n+"]"}).join(", ");ni=new Map;ir=new Map;te=new WeakMap;bs=["brightness","contrast","grayscale","sepia","mode"];var al="theme-color",ds='meta[name="theme-color"]',rr=null,et=null;nh=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor"];th=function(){function i(){for(var i;i=t.shift();)i();n=null}var t=[],n=null;return{add:function(r){t.push(r);n||(n=requestAnimationFrame(i))},cancel:function(){t.splice(0);cancelAnimationFrame(n);n=null}}}();var uh=new WeakSet,fh=new WeakSet,tu=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",function(){tu=!0});eh=0;at=new Map;ur=[];st=new Map;uu=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",function(){uu=!0});fu=new Map;ue=new WeakMap;fr=new WeakSet;var lh=function(){if("randomUUID"in crypto){var n=crypto.randomUUID();return n.substring(0,8)+n.substring(9,13)+n.substring(14,18)+n.substring(19,23)+n.substring(24)}return Array.from(crypto.getRandomValues(new Uint8Array(16))).map(function(n){return((t=n)<16?"0":"")+t.toString(16);var t}).join("")}(),p=new Map,eu=[],t=null,o=null,ah=null,k=null,er=null;ti=new Map;ou=new Set;yh=0;d=new Set;bh=ku(function(n){p.forEach(function(n){return n.render(t,k)});eu.forEach(function(n){return n.render(t,k)});n&&n()});oe=function(){bh.cancel()};ii=null;se=!document.hidden;he=/url\(\"(blob\:.*?)\"\)/g;su=!1;rc=function(){try{return window.self!==window.top}catch(n){return console.warn(n),!0}}();ri=matchMedia("(prefers-color-scheme: dark)");hu={themeOptions:null,fixes:null};fc=function(n){wu=n||pu};n.auto=function(n,t){void 0===n&&(n={});void 0===t&&(t=null);n?(hu={themeOptions:n,fixes:t},or(),yu?ri.addEventListener("change",or):ri.addListener(or)):(yu?ri.removeEventListener("change",or):ri.removeListener(or),ce())};n.disable=ce;n.enable=uc;n.exportGeneratedCSS=function(){return f(this,void 0,void 0,function(){return e(this,function(n){switch(n.label){case 0:return[4,ta()];case 1:return[2,n.sent()]}})})};n.isEnabled=function(){return su};n.setFetchMethod=fc;Object.defineProperty(n,"__esModule",{value:!0})})